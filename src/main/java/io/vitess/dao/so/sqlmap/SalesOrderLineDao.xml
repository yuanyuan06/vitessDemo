<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="io.vitess.dao.so.SalesOrderLineDao">

    <resultMap id="TtdSalesOrderLineResult" type="io.vitess.model.so.SalesOrderLine">
    </resultMap>

    <!-- 用于select查询公用抽取的列 -->
    <sql id="ttdSalesOrderLineColumns">
        <![CDATA[
	        	ID as id,
	        	SALES_ORDER_ID as salesOrder,
	        	PLATFORM_ORDER_LINE_CODE as platformOrderLineCode,
	        	ORDER_LINE_TYPE as orderLineType,
	        	PLATFORM_WH_CODE as platformWhCode,
	        	SKU_ID as sku,
	        	EXTENTION_CODE as extentionCode,
	        	SKU_CODE as skuCode,
	        	SKU_NAME as skuName,
	        	PLATFORM_SKU_NAME as platformSkuName,
	        	BAR_CODE as barCode,
	        	KEY_PROPERTIES as keyProperties,
	        	IS_COMBO_SKU as isComboSku,
	        	COMBO_SKU_EXT_CODE_ORGIN as comboSkuExtCodeOrgin,
	        	INIT_QTY as initQty,
	        	QUANTITY as quantity,
	        	LIST_PRICE as listPrice,
	        	UNIT_PRICE as unitPrice,
	        	TOTAL_AMOUNT as totalAmount,
	        	LINE_DISCOUNT as lineDiscount,
	        	TOTAL_DISCOUNT as totalDiscount,
	        	TOTAL_AMOUNT_AFTER_DISCOUNT as totalAmountAfterDiscount,
	        	UNIT_PRICE_AFTER_DISCOUNT as unitPriceAfterDiscount,
	        	VIRTUAL_AMOUNT as virtualAmount,
	        	INVOICE_TOTAL_AMOUNT as invoiceTotalAmount,
	        	INVOICE_UNIT_PRICE as invoiceUnitPrice,
	        	TOTAL_POINT_USED as totalPointUsed,
	        	WARRANTY_MONTHS as warrantyMonths,
	        	SOURCE_REMARK as sourceRemark,
	        	ACTIVITY_SOURCE as activitySource,
	        	VERSION as version,
	        	VMI_DISCOUNT_CODE as vmiDiscountCode,
	        	POS_SALES as posSales,
	        	RA_SO_LINE_ID as raSoLineId,
	        	SKU_COMBO_REMARK as skuComboRemark,
	        	SOURCE_TYPE as sourceType,
	        	EST_CON_TIME as estConTime,
	        	SPLIT_SOURCE_LINE_ID as splitSourceLineId,
	        	PIC_PATH as picPath,
	        	SALES_MODEL as salesModel,
	        	SHOP_ID as shopId,
	        	SUB_ORDER_TAX_FEE as subOrderTaxFee,
	        	OUT_OWNER as outOwner,
	        	ASSEMBLY_RELA as assemblyRela,
	        	TOTAL_FEE as totalFee,
	        	FQG_NUM as fqgNum,
	        	IS_FQG_S_FEE as isFqgSFee,
	        	LOCATION_CODE as locationCode,
	        	PLATFORM_SKU_ID as platformSkuId,
	        	BTACH_CODE as btachCode,
	        	MFG_DATE as mfgDate,
	        	EXP_DATE as expDate,
	        	COUPON_FEE as couponFee
	    ]]>
    </sql>

    <!-- useGeneratedKeys="true" keyProperty="xxx" for sqlserver and mysql -->
    <insert id="insert" parameterType="io.vitess.model.so.SalesOrderLine" flushCache="true" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
        <![CDATA[
		        INSERT INTO
		        t_td_sales_order_line (
		        id,
		        	SALES_ORDER_ID ,
		        	PLATFORM_ORDER_LINE_CODE ,
		        	ORDER_LINE_TYPE ,
		        	PLATFORM_WH_CODE ,
		        	SKU_ID ,
		        	EXTENTION_CODE ,
		        	SKU_CODE ,
		        	SKU_NAME ,
		        	PLATFORM_SKU_NAME ,
		        	BAR_CODE ,
		        	KEY_PROPERTIES ,
		        	IS_COMBO_SKU ,
		        	COMBO_SKU_EXT_CODE_ORGIN ,
		        	INIT_QTY ,
		        	QUANTITY ,
		        	LIST_PRICE ,
		        	UNIT_PRICE ,
		        	TOTAL_AMOUNT ,
		        	LINE_DISCOUNT ,
		        	TOTAL_DISCOUNT ,
		        	TOTAL_AMOUNT_AFTER_DISCOUNT ,
		        	UNIT_PRICE_AFTER_DISCOUNT ,
		        	VIRTUAL_AMOUNT ,
		        	INVOICE_TOTAL_AMOUNT ,
		        	INVOICE_UNIT_PRICE ,
		        	TOTAL_POINT_USED ,
		        	WARRANTY_MONTHS ,
		        	SOURCE_REMARK ,
		        	ACTIVITY_SOURCE ,
		        	VERSION ,
		        	VMI_DISCOUNT_CODE ,
		        	POS_SALES ,
		        	RA_SO_LINE_ID ,
		        	SKU_COMBO_REMARK ,
		        	SOURCE_TYPE ,
		        	EST_CON_TIME ,
		        	SPLIT_SOURCE_LINE_ID ,
		        	PIC_PATH ,
		        	SALES_MODEL ,
		        	SHOP_ID ,
		        	SUB_ORDER_TAX_FEE ,
		        	OUT_OWNER ,
		        	ASSEMBLY_RELA ,
		        	TOTAL_FEE ,
		        	FQG_NUM ,
		        	IS_FQG_S_FEE ,
		        	LOCATION_CODE ,
		        	PLATFORM_SKU_ID ,
		        	BTACH_CODE ,
		        	MFG_DATE ,
		        	EXP_DATE ,
		        	COUPON_FEE
		        ) VALUES (
		        #{id,javaType=java.lang.Long,jdbcType=BIGINT} ,
		        	#{salesOrder,javaType=Long,jdbcType=BIGINT} ,
		        	#{platformOrderLineCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{orderLineType,javaType=Integer,jdbcType=INTEGER} ,
		        	#{platformWhCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{sku,javaType=Long,jdbcType=INTEGER} ,
		        	#{extentionCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{skuCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{skuName,javaType=String,jdbcType=VARCHAR} ,
		        	#{platformSkuName,javaType=String,jdbcType=VARCHAR} ,
		        	#{barCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{keyProperties,javaType=String,jdbcType=VARCHAR} ,
		        	#{isComboSku,javaType=Boolean,jdbcType=TINYINT} ,
		        	#{comboSkuExtCodeOrgin,javaType=String,jdbcType=VARCHAR} ,
		        	#{initQty,javaType=Integer,jdbcType=INTEGER} ,
		        	#{quantity,javaType=Integer,jdbcType=INTEGER} ,
		        	#{listPrice,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{unitPrice,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{totalAmount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{lineDiscount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{totalDiscount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{totalAmountAfterDiscount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{unitPriceAfterDiscount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{virtualAmount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{invoiceTotalAmount,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{invoiceUnitPrice,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{totalPointUsed,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{warrantyMonths,javaType=Integer,jdbcType=INTEGER} ,
		        	#{sourceRemark,javaType=String,jdbcType=VARCHAR} ,
		        	#{activitySource,javaType=String,jdbcType=VARCHAR} ,
		        	#{version,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        	#{vmiDiscountCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{posSales,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{raSoLineId,javaType=Long,jdbcType=BIGINT} ,
		        	#{skuComboRemark,javaType=String,jdbcType=VARCHAR} ,
		        	#{sourceType,javaType=Integer,jdbcType=INTEGER} ,
		        	#{estConTime,javaType=String,jdbcType=VARCHAR} ,
		        	#{splitSourceLineId,javaType=Long,jdbcType=BIGINT} ,
		        	#{picPath,javaType=String,jdbcType=VARCHAR} ,
		        	#{salesModel,javaType=Integer,jdbcType=TINYINT} ,
		        	#{shopId,javaType=Long,jdbcType=BIGINT} ,
		        	#{subOrderTaxFee,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{outOwner,javaType=String,jdbcType=VARCHAR} ,
		        	#{assemblyRela,javaType=Long,jdbcType=BIGINT} ,
		        	#{totalFee,javaType=java.math.BigDecimal,jdbcType=DECIMAL} ,
		        	#{fqgNum,javaType=Integer,jdbcType=INTEGER} ,
		        	#{isFqgSFee,javaType=Boolean,jdbcType=INTEGER} ,
		        	#{locationCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{platformSkuId,javaType=Long,jdbcType=BIGINT} ,
		        	#{btachCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{mfgDate,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        	#{expDate,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        	#{couponFee,javaType=java.math.BigDecimal,jdbcType=DECIMAL}
		        )
		    ]]>

    </insert>


    <select id="getSalesOrderLineByIdShopId" resultType="io.vitess.model.so.SalesOrderLine"></select>
    <select id="querySalesOrderLineBySoIdShopId" resultType="io.vitess.model.so.SalesOrderLine"></select>
</mapper>