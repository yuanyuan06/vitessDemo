<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">


<mapper namespace="io.vitess.dao.CompanyShopDao">
  <resultMap id="TmaShopWhResult" type="io.vitess.model.CompanyShop">
  </resultMap>

  <!-- 用于select查询公用抽取的列 -->
  <sql id="tmaShopWhColumns">
    <![CDATA[
	        	ID as id,
	        	CREATE_TIME as createTime,
	        	LAST_MODIFY_TIME as lastModifyTime,
	        	VERSION as version,
	        	WH_CODE as whCode,
	        	WH_NAME as whName,
	        	SHOP_ID as shopId,
	        	IS_DEFAULT as isDefault,
	        	IS_PLATFORM_DEFAULT as isPlatformDefault,
	        	IS_RTN_DEFAULT as isRtnDefault,
	        	DELIVERY_ADDRESS_DETAIL as deliveryAddressDetail,
	        	CONSIGN_NAME as consignName,
	        	CONSIGN_PHONE as consignPhone,
	        	PROVINCE as province,
	        	CITY as city,
	        	AREA as area,
	        	TOWN as town,
	        	SYSTEM_NAME as systemName,
	        	SYSTEM_CODE as systemCode,
	        	ONE_BY_ONE_TO_WH_LEVEL as oneByOneToWhLevel,
	        	IS_PRE_PACKAGE as isPrePackage,
	        	IS_TRACKING_NO as isTrackingNo,
	        	ADDRESS as address,
	        	RECEIVER as receiver,
	        	RECEIVER_PHONE as receiverPhone,
	        	DISTRICT as district,
	        	MOBILE as mobile,
	        	ZIP_CODE as zipCode,
	        	IS_INVOKE_DELIVERY_SERVICE as isInvokeDeliveryService
	    ]]>
  </sql>

  <!-- useGeneratedKeys="true" keyProperty="xxx" for sqlserver and mysql -->
  <insert id="insert" parameterType="io.vitess.model.CompanyShop"

          flushCache="true">
    <![CDATA[
		        INSERT INTO
		        t_ma_shop_wh (
		        id,
		        	CREATE_TIME ,
		        	LAST_MODIFY_TIME ,
		        	VERSION ,
		        	WH_CODE ,
		        	WH_NAME ,
		        	SHOP_ID ,
		        	IS_DEFAULT ,
		        	IS_PLATFORM_DEFAULT ,
		        	IS_RTN_DEFAULT ,
		        	DELIVERY_ADDRESS_DETAIL ,
		        	CONSIGN_NAME ,
		        	CONSIGN_PHONE ,
		        	PROVINCE ,
		        	CITY ,
		        	AREA ,
		        	TOWN ,
		        	SYSTEM_NAME ,
		        	SYSTEM_CODE ,
		        	ONE_BY_ONE_TO_WH_LEVEL ,
		        	IS_PRE_PACKAGE ,
		        	IS_TRACKING_NO ,
		        	ADDRESS ,
		        	RECEIVER ,
		        	RECEIVER_PHONE ,
		        	DISTRICT ,
		        	MOBILE ,
		        	ZIP_CODE ,
		        	IS_INVOKE_DELIVERY_SERVICE
		        ) VALUES (
		        #{id,javaType=java.lang.Long,jdbcType=BIGINT} ,
		        	#{createTime,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        	#{lastModifyTime,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        	#{version,javaType=Integer,jdbcType=INTEGER} ,
		        	#{whCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{whName,javaType=String,jdbcType=VARCHAR} ,
		        	#{shopId,javaType=Long,jdbcType=BIGINT} ,
		        	#{isDefault,javaType=Integer,jdbcType=TINYINT} ,
		        	#{isPlatformDefault,javaType=Integer,jdbcType=TINYINT} ,
		        	#{isRtnDefault,javaType=Integer,jdbcType=TINYINT} ,
		        	#{deliveryAddressDetail,javaType=String,jdbcType=VARCHAR} ,
		        	#{consignName,javaType=String,jdbcType=VARCHAR} ,
		        	#{consignPhone,javaType=String,jdbcType=VARCHAR} ,
		        	#{province,javaType=String,jdbcType=VARCHAR} ,
		        	#{city,javaType=String,jdbcType=VARCHAR} ,
		        	#{area,javaType=String,jdbcType=VARCHAR} ,
		        	#{town,javaType=String,jdbcType=VARCHAR} ,
		        	#{systemName,javaType=String,jdbcType=VARCHAR} ,
		        	#{systemCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{oneByOneToWhLevel,javaType=Integer,jdbcType=INTEGER} ,
		        	#{isPrePackage,javaType=Integer,jdbcType=TINYINT} ,
		        	#{isTrackingNo,javaType=Integer,jdbcType=TINYINT} ,
		        	#{address,javaType=String,jdbcType=VARCHAR} ,
		        	#{receiver,javaType=String,jdbcType=VARCHAR} ,
		        	#{receiverPhone,javaType=String,jdbcType=VARCHAR} ,
		        	#{district,javaType=String,jdbcType=VARCHAR} ,
		        	#{mobile,javaType=String,jdbcType=VARCHAR} ,
		        	#{zipCode,javaType=String,jdbcType=VARCHAR} ,
		        	#{isInvokeDeliveryService,javaType=Integer,jdbcType=TINYINT}
		        )
		    ]]>

  </insert>


  <update id="update" parameterType="io.vitess.model.CompanyShop">
    <![CDATA[
	        UPDATE t_ma_shop_wh SET
		        CREATE_TIME = #{createTime,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        LAST_MODIFY_TIME = #{lastModifyTime,javaType=java.util.Date,jdbcType=TIMESTAMP} ,
		        VERSION = #{version,javaType=Integer,jdbcType=INTEGER} ,
		        WH_CODE = #{whCode,javaType=String,jdbcType=VARCHAR} ,
		        WH_NAME = #{whName,javaType=String,jdbcType=VARCHAR} ,
		        SHOP_ID = #{shopId,javaType=Long,jdbcType=BIGINT} ,
		        IS_DEFAULT = #{isDefault,javaType=Integer,jdbcType=TINYINT} ,
		        IS_PLATFORM_DEFAULT = #{isPlatformDefault,javaType=Integer,jdbcType=TINYINT} ,
		        IS_RTN_DEFAULT = #{isRtnDefault,javaType=Integer,jdbcType=TINYINT} ,
		        DELIVERY_ADDRESS_DETAIL = #{deliveryAddressDetail,javaType=String,jdbcType=VARCHAR} ,
		        CONSIGN_NAME = #{consignName,javaType=String,jdbcType=VARCHAR} ,
		        CONSIGN_PHONE = #{consignPhone,javaType=String,jdbcType=VARCHAR} ,
		        PROVINCE = #{province,javaType=String,jdbcType=VARCHAR} ,
		        CITY = #{city,javaType=String,jdbcType=VARCHAR} ,
		        AREA = #{area,javaType=String,jdbcType=VARCHAR} ,
		        TOWN = #{town,javaType=String,jdbcType=VARCHAR} ,
		        SYSTEM_NAME = #{systemName,javaType=String,jdbcType=VARCHAR} ,
		        SYSTEM_CODE = #{systemCode,javaType=String,jdbcType=VARCHAR} ,
		        ONE_BY_ONE_TO_WH_LEVEL = #{oneByOneToWhLevel,javaType=Integer,jdbcType=INTEGER} ,
		        IS_PRE_PACKAGE = #{isPrePackage,javaType=Integer,jdbcType=TINYINT} ,
		        IS_TRACKING_NO = #{isTrackingNo,javaType=Integer,jdbcType=TINYINT} ,
		        ADDRESS = #{address,javaType=String,jdbcType=VARCHAR} ,
		        RECEIVER = #{receiver,javaType=String,jdbcType=VARCHAR} ,
		        RECEIVER_PHONE = #{receiverPhone,javaType=String,jdbcType=VARCHAR} ,
		        DISTRICT = #{district,javaType=String,jdbcType=VARCHAR} ,
		        MOBILE = #{mobile,javaType=String,jdbcType=VARCHAR} ,
		        ZIP_CODE = #{zipCode,javaType=String,jdbcType=VARCHAR} ,
		        IS_INVOKE_DELIVERY_SERVICE = #{isInvokeDeliveryService,javaType=Integer,jdbcType=TINYINT}
	        WHERE
		        ID = #{id}
	    ]]>
  </update>
  <delete id="delete" parameterType="java.lang.Long">
    <![CDATA[
	        delete from t_ma_shop_wh where
		        ID = #{id}
	    ]]>
  </delete>

  <delete id="deleteByIds" parameterType="list">

    delete from t_ma_shop_wh
    where id in
    <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
      #{item}				</foreach>

  </delete>

  <select id="findById" parameterType="java.lang.Long" resultMap="TmaShopWhResult" flushCache="false">
    select <include refid="tmaShopWhColumns" />
    <![CDATA[
			    from t_ma_shop_wh
		        where
		        ID = #{id}
		    ]]>
  </select>
  <select id="getByIds" parameterType="list"  resultMap="TmaShopWhResult" flushCache="false">
    select <include refid="tmaShopWhColumns" />
    from t_ma_shop_wh
    where id in
    <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
      #{item}				</foreach>
  </select>
  <sql id="tmaShopWhDynamicWhere">
    <!-- ognl访问静态方法的表达式 为@class@method(args),以下为调用rapid中的Ognl.isNotEmpty()方法,还有其它方法如isNotBlank()可以使用，具体请查看Ognl类 -->
    <where>

      <if test="id!=null">
        and ID = #{id}
      </if>

      <if test="createTime!=null">
        and CREATE_TIME = #{createTime}
      </if>

      <if test="lastModifyTime!=null">
        and LAST_MODIFY_TIME = #{lastModifyTime}
      </if>

      <if test="version!=null">
        and VERSION = #{version}
      </if>

      <if test="whCode!=null">
        and WH_CODE = #{whCode}
      </if>

      <if test="whName!=null">
        and WH_NAME = #{whName}
      </if>

      <if test="shopId!=null">
        and SHOP_ID = #{shopId}
      </if>

      <if test="isDefault!=null">
        and IS_DEFAULT = #{isDefault}
      </if>

      <if test="isPlatformDefault!=null">
        and IS_PLATFORM_DEFAULT = #{isPlatformDefault}
      </if>

      <if test="isRtnDefault!=null">
        and IS_RTN_DEFAULT = #{isRtnDefault}
      </if>

      <if test="deliveryAddressDetail!=null">
        and DELIVERY_ADDRESS_DETAIL = #{deliveryAddressDetail}
      </if>

      <if test="consignName!=null">
        and CONSIGN_NAME = #{consignName}
      </if>

      <if test="consignPhone!=null">
        and CONSIGN_PHONE = #{consignPhone}
      </if>

      <if test="province!=null">
        and PROVINCE = #{province}
      </if>

      <if test="city!=null">
        and CITY = #{city}
      </if>

      <if test="area!=null">
        and AREA = #{area}
      </if>

      <if test="town!=null">
        and TOWN = #{town}
      </if>

      <if test="systemName!=null">
        and SYSTEM_NAME = #{systemName}
      </if>

      <if test="systemCode!=null">
        and SYSTEM_CODE = #{systemCode}
      </if>

      <if test="oneByOneToWhLevel!=null">
        and ONE_BY_ONE_TO_WH_LEVEL = #{oneByOneToWhLevel}
      </if>

      <if test="isPrePackage!=null">
        and IS_PRE_PACKAGE = #{isPrePackage}
      </if>

      <if test="isTrackingNo!=null">
        and IS_TRACKING_NO = #{isTrackingNo}
      </if>

      <if test="address!=null">
        and ADDRESS = #{address}
      </if>

      <if test="receiver!=null">
        and RECEIVER = #{receiver}
      </if>

      <if test="receiverPhone!=null">
        and RECEIVER_PHONE = #{receiverPhone}
      </if>

      <if test="district!=null">
        and DISTRICT = #{district}
      </if>

      <if test="mobile!=null">
        and MOBILE = #{mobile}
      </if>

      <if test="zipCode!=null">
        and ZIP_CODE = #{zipCode}
      </if>

      <if test="isInvokeDeliveryService!=null">
        and IS_INVOKE_DELIVERY_SERVICE = #{isInvokeDeliveryService}
      </if>
    </where>
  </sql>


  <select id="getCount" resultType="long">
    select count(*) from t_ma_shop_wh
  </select>
  <select id="findListCountByQueryMap" resultType="long">
    select count(*) from t_ma_shop_wh
    <include refid="tmaShopWhDynamicWhere"/>
  </select>

  <select id="findListCountByParam" resultType="long">
    select count(*) from t_ma_shop_wh
    <include refid="tmaShopWhDynamicWhere"/>
  </select>

  <!--
      分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
      因为分页查询将传 offset,pageSize,lastRows 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
  -->
  <select id="findListByQueryMapWithPage" resultMap="TmaShopWhResult">
    select <include refid="tmaShopWhColumns" />
    from t_ma_shop_wh
    <include refid="tmaShopWhDynamicWhere"/>

  </select>

  <select id="findListByQueryMap" resultMap="TmaShopWhResult">
    select <include refid="tmaShopWhColumns" />
    from t_ma_shop_wh
    <include refid="tmaShopWhDynamicWhere"/>

  </select>

  <select id="findListByParam" resultMap="TmaShopWhResult">
    select <include refid="tmaShopWhColumns" />
    from t_ma_shop_wh
    <include refid="tmaShopWhDynamicWhere"/>

  </select>


</mapper>
